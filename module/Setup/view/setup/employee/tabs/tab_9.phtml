<?php
$conditinalValue = [
    'N' => 'No',
    'Y' => 'Yes'
];

$formNine->setAttribute('id', 'form9');
$relationId = $formNine->get('relationId');
$relationId->setValueOptions($relation);
$personName = $formNine->get('personName');
$isNominee = $formNine->get('isNominee');
$isNominee->setValueOptions($conditinalValue);
$isDependent = $formNine->get('isDependent');
$isDependent->setValueOptions($conditinalValue);
$dob = $formNine->get('dob');
?>

<div class="tab-pane aditional" id="tab9">
    <div class="row esetup">
        <div class="col-md-12">
            <form name="employeeRelationForm" ng-submit="submitRelation()" id="form9" novalidate>
                <input type="hidden" name="relationEmployeeId" id="relationEmployeeId" value="<?php echo $id; ?>">
                <table class="table table-striped table-bordered table-hover no-footer customtbl" id="relationTbl">
                    <tr>
                        <td><?php print $this->formLabel($relationId); ?></td>
                        <td><?php print $this->formLabel($personName); ?></td>
                        <td><?php print $this->formLabel($dob); ?></td>
                        <td><?php print $this->formLabel($isDependent); ?></td>
                        <td><?php print $this->formLabel($isNominee); ?></td>

                        <td width="1%"></td>
                    </tr>
                    <tr ng-repeat="relation in relationFormList">
                        <td>
                            <select name="relationId_{{relation.checkbox}}" required="required" id="relationId_{{relation.checkbox}}" class="form-control" required="required" 
                  ng-model="relation.relationId" ng-options="relationTypeList.RELATION_NAME for relationTypeList in relationList track by relationTypeList.RELATION_ID"  
                                    >
                            </select>
                        </td>
                        <td>
                            <input type="text" ng-model="relation.personName" name="personName_{{relation.checkbox}}" id="personName_{{relation.checkbox}}" class="form-control" value="" required="required">
                            <div ng-show="employeeRelationForm.$submitted || employeeRelationForm.dob_{{relation.checkbox}}.$touched">
                                <ul ng-show="employeeRelationForm.personName_{{relation.checkbox}}.$error.required" class="help-block error">
                                    <li>Name is required.</li>
                                </ul>
                            </div>
                        </td>
                        <td>
                            <input dvalue="{{relation.dob}}" datepicker ng-model="relation.dob"  type="text"  name="dob_{{relation.checkbox}}" required="required" class="form-control" id="dob_{{relation.checkbox}}" value="">
                            <div ng-show="employeeRelationForm.$submitted || employeeRelationForm.dob_{{relation.checkbox}}.$touched">
                                <ul ng-show="employeeRelationForm.dob_{{relation.checkbox}}.$error.required" class="help-block error">
                                    <li>Date is required.</li>
                                </ul>
                            </div>
                        </td>
                        <td>
                            <select name="isDependent_{{relation.checkbox}}" required="required" id="isDependent_{{relation.checkbox}}" class="form-control"
                        ng-model="relation.isDependent" ng-options="ConditionalTypeList.name for ConditionalTypeList in ConditionalType track by ConditionalTypeList.id"  
                                    >
                            </select>
                        </td>
                        <td>
                            <select name="isNominee_{{relation.checkbox}}" required="required" id="isNominee_{{relation.checkbox}}" class="form-control" 
                        ng-model="relation.isNominee" ng-options="ConditionalTypeList.name for ConditionalTypeList in ConditionalType track by ConditionalTypeList.id"  
                                    >                   
                            </select>
                        </td>
                        
                        
                        <td width="1%" style="padding:15px;" class="checkboxgap">
                            <div class="md-checkbox">
                                <input type="checkbox" id="{{relation.checkbox}}" class="md-check"
                                       ng-model="relation.checked">
                                <label for="{{relation.checkbox}}">
                                    <span class="inc"></span>
                                    <span class="check"></span>
                                    <span class="box"></span>
                                </label>
                            </div>
                        </td>
                    </tr>
                    <tr>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td>
                            <a href="javascript:;" class="btn btn-icon-only default pull-right"
                               ng-click="addRelation()">
                                <i class="fa fa-plus"></i>
                            </a>
                        </td>
                        <td>
                            <a href="javascript:;" class="btn btn-icon-only default" ng-click="deleteRelation()">
                                <i class="fa fa-trash-o"></i>
                            </a>
                        </td>
                    </tr>
                </table>
                <input type="submit" class="hidden" id="btnform9" value="submit">
            </form>
        </div>
    </div>      
</div>